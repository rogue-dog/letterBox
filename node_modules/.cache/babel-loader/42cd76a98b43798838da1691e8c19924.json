{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/lenovo/letterBox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/lenovo/letterBox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/lenovo/letterBox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from'react';import{IonList,IonItem,IonLabel,IonInput,IonToggle,IonRadio,IonCheckbox,IonItemSliding,IonHeader,IonItemOption,IonItemOptions,IonContent,IonPage}from'@ionic/react';import ChatItem from\"./ChatItem\";import db from\"../Firestore\";import{AppContext}from\"../initialState\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Tab2(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),dataFetched=_useState2[0],check=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),AllUsers=_useState4[0],setusers=_useState4[1];var _useContext=useContext(AppContext),state=_useContext.state,dispatch=_useContext.dispatch;var l=[];function a(){return _a.apply(this,arguments);}function _a(){_a=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var k;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return db.collection(\"users\").get().then(function(querySnapshot){return querySnapshot.forEach(function(doc){if(doc.data()['phone']!=state.user.phone){var s=doc.data();var user=[];user.push(s['name']);user.push(s['phone']);l.push(user);}//\n});});case 2:k=_context.sent;setusers(l);check(true);case 5:case\"end\":return _context.stop();}}},_callee);}));return _a.apply(this,arguments);};a();function Page(){return/*#__PURE__*/_jsxs(IonContent,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Here you can see every user we have.\"}),/*#__PURE__*/_jsx(IonList,{children:AllUsers.map(function(item){return/*#__PURE__*/_jsx(ChatItem,{user:item},item[1]);})})]});}return/*#__PURE__*/_jsx(IonPage,{children:dataFetched?/*#__PURE__*/_jsx(Page,{}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})});};export default Tab2;","map":{"version":3,"sources":["C:/Users/lenovo/letterBox/src/pages/Tab2.jsx"],"names":["React","useContext","useEffect","useState","IonList","IonItem","IonLabel","IonInput","IonToggle","IonRadio","IonCheckbox","IonItemSliding","IonHeader","IonItemOption","IonItemOptions","IonContent","IonPage","ChatItem","db","AppContext","Tab2","dataFetched","check","AllUsers","setusers","state","dispatch","l","a","collection","get","then","querySnapshot","forEach","doc","data","user","phone","s","push","k","Page","map","item"],"mappings":"6aAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,OACEC,OADF,CACWC,OADX,CACoBC,QADpB,CAC8BC,QAD9B,CACwCC,SADxC,CACmDC,QADnD,CAC6DC,WAD7D,CAC0EC,cAD1E,CAC0FC,SAD1F,CAEEC,aAFF,CAEiBC,cAFjB,CAEiCC,UAFjC,CAE6CC,OAF7C,KAGO,cAHP,CAIA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CAEA,MAAOC,CAAAA,EAAP,KAAe,cAAf,CACA,OAASC,UAAT,KAA2B,iBAA3B,C,wFAMA,QAASC,CAAAA,IAAT,EAAgB,CACd,cAA2BjB,QAAQ,CAAC,KAAD,CAAnC,wCAAKkB,WAAL,eAAkBC,KAAlB,eACA,eAA2BnB,QAAQ,CAAC,EAAD,CAAnC,yCAAKoB,QAAL,eAAeC,QAAf,eACA,gBAA0BvB,UAAU,CAACkB,UAAD,CAApC,CAAMM,KAAN,aAAMA,KAAN,CAAaC,QAAb,aAAaA,QAAb,CAEA,GAAIC,CAAAA,CAAC,CAAG,EAAR,CALc,QAMCC,CAAAA,CAND,6GAMd,+JAEgBV,CAAAA,EAAE,CAACW,UAAH,CAAc,OAAd,EAAuBC,GAAvB,GAA6BC,IAA7B,CAAkC,SAACC,aAAD,QAC9CA,CAAAA,aAAa,CAACC,OAAd,CAAsB,SAACC,GAAD,CAAS,CAC7B,GAAIA,GAAG,CAACC,IAAJ,GAAW,OAAX,GAAuBV,KAAK,CAACW,IAAN,CAAWC,KAAtC,CAA6C,CAC3C,GAAIC,CAAAA,CAAC,CAAGJ,GAAG,CAACC,IAAJ,EAAR,CACA,GAAIC,CAAAA,IAAI,CAAG,EAAX,CACAA,IAAI,CAACG,IAAL,CAAUD,CAAC,CAAC,MAAD,CAAX,EACAF,IAAI,CAACG,IAAL,CAAUD,CAAC,CAAC,OAAD,CAAX,EACAX,CAAC,CAACY,IAAF,CAAOH,IAAP,EACD,CACD;AAED,CAVD,CAD8C,EAAlC,CAFhB,QAEMI,CAFN,eAeEhB,QAAQ,CAACG,CAAD,CAAR,CACAL,KAAK,CAAC,IAAD,CAAL,CAhBF,sDANc,oCAyBb,CACDM,CAAC,GACD,QAASa,CAAAA,IAAT,EAAgB,CACd,mBACE,MAAC,UAAD,yBACE,2DADF,cAGE,KAAC,OAAD,WACGlB,QAAQ,CAACmB,GAAT,CAAa,SAACC,IAAD,qBAEZ,KAAC,QAAD,EAAU,IAAI,CAAEA,IAAhB,EAA2BA,IAAI,CAAC,CAAD,CAA/B,CAFY,EAAb,CADH,EAHF,GADF,CAkBD,CACD,mBAAQ,KAAC,OAAD,WAGJtB,WAAW,cAAG,KAAC,IAAD,IAAH,cAAc,iCAHrB,EAAR,CAOD,EACD,cAAeD,CAAAA,IAAf","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport {\n  IonList, IonItem, IonLabel, IonInput, IonToggle, IonRadio, IonCheckbox, IonItemSliding, IonHeader,\n  IonItemOption, IonItemOptions, IonContent, IonPage\n} from '@ionic/react';\nimport ChatItem from \"./ChatItem\";\n\nimport db from \"../Firestore\";\nimport { AppContext } from \"../initialState\";\n\n\n\n\n\nfunction Tab2() {\n  let [dataFetched, check] = useState(false);\n  let [AllUsers, setusers] = useState([]);\n  let { state, dispatch } = useContext(AppContext);\n\n  var l = [];\n  async function a() {\n\n    let k = await db.collection(\"users\").get().then((querySnapshot) => (\n      querySnapshot.forEach((doc) => {\n        if (doc.data()['phone'] != state.user.phone) {\n          var s = doc.data()\n          var user = [];\n          user.push(s['name']);\n          user.push(s['phone']);\n          l.push(user);\n        }\n        //\n\n      })\n    ));\n    setusers(l);\n    check(true);\n\n\n  };\n  a();\n  function Page() {\n    return (\n      <IonContent >\n        <p>Here you can see every user we have.</p>\n        {/*-- List of Text Items --*/}\n        <IonList>\n          {AllUsers.map((item) =>\n\n            <ChatItem user={item} key={item[1]} />\n          )}\n\n        </IonList>\n\n\n\n        {/*-- List of Sliding Items --*/}\n\n      </IonContent>\n    )\n  }\n  return (<IonPage>\n\n    {\n      dataFetched ? <Page /> : <p>Loading...</p>\n    }\n  </IonPage>\n  );\n};\nexport default Tab2;\n\n"]},"metadata":{},"sourceType":"module"}