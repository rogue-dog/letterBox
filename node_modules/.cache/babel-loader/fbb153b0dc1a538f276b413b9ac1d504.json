{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"C:/Users/lenovo/letterBox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _createForOfIteratorHelper = require(\"C:/Users/lenovo/letterBox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\nvar _toConsumableArray = require(\"C:/Users/lenovo/letterBox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(loadPluginDescriptor),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(loadPresetDescriptor);\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _gensync() {\n  var data = _interopRequireDefault(require(\"gensync\"));\n\n  _gensync = function _gensync() {\n    return data;\n  };\n\n  return data;\n}\n\nvar _async = require(\"../gensync-utils/async\");\n\nvar _util = require(\"./util\");\n\nvar context = _interopRequireWildcard(require(\"../index\"));\n\nvar _plugin = _interopRequireDefault(require(\"./plugin\"));\n\nvar _item = require(\"./item\");\n\nvar _configChain = require(\"./config-chain\");\n\nfunction _traverse() {\n  var data = _interopRequireDefault(require(\"@babel/traverse\"));\n\n  _traverse = function _traverse() {\n    return data;\n  };\n\n  return data;\n}\n\nvar _caching = require(\"./caching\");\n\nvar _options = require(\"./validation/options\");\n\nvar _plugins = require(\"./validation/plugins\");\n\nvar _configApi = _interopRequireDefault(require(\"./helpers/config-api\"));\n\nvar _partial = _interopRequireDefault(require(\"./partial\"));\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar _default = (0, _gensync().default)( /*#__PURE__*/_regeneratorRuntime.mark(function loadFullConfig(inputOpts) {\n  var result, options, context, fileHandling, optionDefaults, plugins, presets, toDescriptor, presetsDescriptors, initialPluginsDescriptors, pluginDescriptorsByPass, passes, ignored, opts;\n  return _regeneratorRuntime.wrap(function loadFullConfig$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          return _context3.delegateYield((0, _partial.default)(inputOpts), \"t0\", 1);\n\n        case 1:\n          result = _context3.t0;\n\n          if (result) {\n            _context3.next = 4;\n            break;\n          }\n\n          return _context3.abrupt(\"return\", null);\n\n        case 4:\n          options = result.options, context = result.context, fileHandling = result.fileHandling;\n\n          if (!(fileHandling === \"ignored\")) {\n            _context3.next = 7;\n            break;\n          }\n\n          return _context3.abrupt(\"return\", null);\n\n        case 7:\n          optionDefaults = {};\n          plugins = options.plugins, presets = options.presets;\n\n          if (!(!plugins || !presets)) {\n            _context3.next = 11;\n            break;\n          }\n\n          throw new Error(\"Assertion failure - plugins and presets exist\");\n\n        case 11:\n          toDescriptor = function toDescriptor(item) {\n            var desc = (0, _item.getItemDescriptor)(item);\n\n            if (!desc) {\n              throw new Error(\"Assertion failure - must be config item\");\n            }\n\n            return desc;\n          };\n\n          presetsDescriptors = presets.map(toDescriptor);\n          initialPluginsDescriptors = plugins.map(toDescriptor);\n          pluginDescriptorsByPass = [[]];\n          passes = [];\n          return _context3.delegateYield(enhanceError(context, /*#__PURE__*/_regeneratorRuntime.mark(function recursePresetDescriptors(rawPresets, pluginDescriptorsPass) {\n            var presets, i, descriptor, _iterator, _step, _step$value, preset, pass, _ignored;\n\n            return _regeneratorRuntime.wrap(function recursePresetDescriptors$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    presets = [];\n                    i = 0;\n\n                  case 2:\n                    if (!(i < rawPresets.length)) {\n                      _context.next = 30;\n                      break;\n                    }\n\n                    descriptor = rawPresets[i];\n\n                    if (!(descriptor.options !== false)) {\n                      _context.next = 27;\n                      break;\n                    }\n\n                    _context.prev = 5;\n\n                    if (!descriptor.ownPass) {\n                      _context.next = 15;\n                      break;\n                    }\n\n                    _context.t0 = presets;\n                    return _context.delegateYield(loadPresetDescriptor(descriptor, context), \"t1\", 9);\n\n                  case 9:\n                    _context.t2 = _context.t1;\n                    _context.t3 = [];\n                    _context.t4 = {\n                      preset: _context.t2,\n                      pass: _context.t3\n                    };\n\n                    _context.t0.push.call(_context.t0, _context.t4);\n\n                    _context.next = 21;\n                    break;\n\n                  case 15:\n                    _context.t5 = presets;\n                    return _context.delegateYield(loadPresetDescriptor(descriptor, context), \"t6\", 17);\n\n                  case 17:\n                    _context.t7 = _context.t6;\n                    _context.t8 = pluginDescriptorsPass;\n                    _context.t9 = {\n                      preset: _context.t7,\n                      pass: _context.t8\n                    };\n\n                    _context.t5.unshift.call(_context.t5, _context.t9);\n\n                  case 21:\n                    _context.next = 27;\n                    break;\n\n                  case 23:\n                    _context.prev = 23;\n                    _context.t10 = _context[\"catch\"](5);\n\n                    if (_context.t10.code === \"BABEL_UNKNOWN_OPTION\") {\n                      (0, _options.checkNoUnwrappedItemOptionPairs)(rawPresets, i, \"preset\", _context.t10);\n                    }\n\n                    throw _context.t10;\n\n                  case 27:\n                    i++;\n                    _context.next = 2;\n                    break;\n\n                  case 30:\n                    if (!(presets.length > 0)) {\n                      _context.next = 55;\n                      break;\n                    }\n\n                    pluginDescriptorsByPass.splice.apply(pluginDescriptorsByPass, [1, 0].concat(_toConsumableArray(presets.map(function (o) {\n                      return o.pass;\n                    }).filter(function (p) {\n                      return p !== pluginDescriptorsPass;\n                    }))));\n                    _iterator = _createForOfIteratorHelper(presets);\n                    _context.prev = 33;\n\n                    _iterator.s();\n\n                  case 35:\n                    if ((_step = _iterator.n()).done) {\n                      _context.next = 47;\n                      break;\n                    }\n\n                    _step$value = _step.value, preset = _step$value.preset, pass = _step$value.pass;\n\n                    if (preset) {\n                      _context.next = 39;\n                      break;\n                    }\n\n                    return _context.abrupt(\"return\", true);\n\n                  case 39:\n                    pass.push.apply(pass, _toConsumableArray(preset.plugins));\n                    return _context.delegateYield(recursePresetDescriptors(preset.presets, pass), \"t11\", 41);\n\n                  case 41:\n                    _ignored = _context.t11;\n\n                    if (!_ignored) {\n                      _context.next = 44;\n                      break;\n                    }\n\n                    return _context.abrupt(\"return\", true);\n\n                  case 44:\n                    preset.options.forEach(function (opts) {\n                      (0, _util.mergeOptions)(optionDefaults, opts);\n                    });\n\n                  case 45:\n                    _context.next = 35;\n                    break;\n\n                  case 47:\n                    _context.next = 52;\n                    break;\n\n                  case 49:\n                    _context.prev = 49;\n                    _context.t12 = _context[\"catch\"](33);\n\n                    _iterator.e(_context.t12);\n\n                  case 52:\n                    _context.prev = 52;\n\n                    _iterator.f();\n\n                    return _context.finish(52);\n\n                  case 55:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, recursePresetDescriptors, null, [[5, 23], [33, 49, 52, 55]]);\n          }))(presetsDescriptors, pluginDescriptorsByPass[0]), \"t1\", 17);\n\n        case 17:\n          ignored = _context3.t1;\n\n          if (!ignored) {\n            _context3.next = 20;\n            break;\n          }\n\n          return _context3.abrupt(\"return\", null);\n\n        case 20:\n          opts = optionDefaults;\n          (0, _util.mergeOptions)(opts, options);\n          return _context3.delegateYield(enhanceError(context, /*#__PURE__*/_regeneratorRuntime.mark(function loadPluginDescriptors() {\n            var _pluginDescriptorsByP;\n\n            var _iterator2, _step2, descs, pass, i, descriptor;\n\n            return _regeneratorRuntime.wrap(function loadPluginDescriptors$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    (_pluginDescriptorsByP = pluginDescriptorsByPass[0]).unshift.apply(_pluginDescriptorsByP, _toConsumableArray(initialPluginsDescriptors));\n\n                    _iterator2 = _createForOfIteratorHelper(pluginDescriptorsByPass);\n                    _context2.prev = 2;\n\n                    _iterator2.s();\n\n                  case 4:\n                    if ((_step2 = _iterator2.n()).done) {\n                      _context2.next = 28;\n                      break;\n                    }\n\n                    descs = _step2.value;\n                    pass = [];\n                    passes.push(pass);\n                    i = 0;\n\n                  case 9:\n                    if (!(i < descs.length)) {\n                      _context2.next = 26;\n                      break;\n                    }\n\n                    descriptor = descs[i];\n\n                    if (!(descriptor.options !== false)) {\n                      _context2.next = 23;\n                      break;\n                    }\n\n                    _context2.prev = 12;\n                    _context2.t0 = pass;\n                    return _context2.delegateYield(loadPluginDescriptor(descriptor, context), \"t1\", 15);\n\n                  case 15:\n                    _context2.t2 = _context2.t1;\n\n                    _context2.t0.push.call(_context2.t0, _context2.t2);\n\n                    _context2.next = 23;\n                    break;\n\n                  case 19:\n                    _context2.prev = 19;\n                    _context2.t3 = _context2[\"catch\"](12);\n\n                    if (_context2.t3.code === \"BABEL_UNKNOWN_PLUGIN_PROPERTY\") {\n                      (0, _options.checkNoUnwrappedItemOptionPairs)(descs, i, \"plugin\", _context2.t3);\n                    }\n\n                    throw _context2.t3;\n\n                  case 23:\n                    i++;\n                    _context2.next = 9;\n                    break;\n\n                  case 26:\n                    _context2.next = 4;\n                    break;\n\n                  case 28:\n                    _context2.next = 33;\n                    break;\n\n                  case 30:\n                    _context2.prev = 30;\n                    _context2.t4 = _context2[\"catch\"](2);\n\n                    _iterator2.e(_context2.t4);\n\n                  case 33:\n                    _context2.prev = 33;\n\n                    _iterator2.f();\n\n                    return _context2.finish(33);\n\n                  case 36:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, loadPluginDescriptors, null, [[2, 30, 33, 36], [12, 19]]);\n          }))(), \"t2\", 23);\n\n        case 23:\n          opts.plugins = passes[0];\n          opts.presets = passes.slice(1).filter(function (plugins) {\n            return plugins.length > 0;\n          }).map(function (plugins) {\n            return {\n              plugins: plugins\n            };\n          });\n          opts.passPerPreset = opts.presets.length > 0;\n          return _context3.abrupt(\"return\", {\n            options: opts,\n            passes: passes\n          });\n\n        case 27:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, loadFullConfig);\n}));\n\nexports.default = _default;\n\nfunction enhanceError(context, fn) {\n  return /*#__PURE__*/_regeneratorRuntime.mark(function _callee(arg1, arg2) {\n    return _regeneratorRuntime.wrap(function _callee$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            return _context4.delegateYield(fn(arg1, arg2), \"t0\", 2);\n\n          case 2:\n            return _context4.abrupt(\"return\", _context4.t0);\n\n          case 5:\n            _context4.prev = 5;\n            _context4.t1 = _context4[\"catch\"](0);\n\n            if (!/^\\[BABEL\\]/.test(_context4.t1.message)) {\n              _context4.t1.message = \"[BABEL] \".concat(context.filename || \"unknown\", \": \").concat(_context4.t1.message);\n            }\n\n            throw _context4.t1;\n\n          case 9:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee, null, [[0, 5]]);\n  });\n}\n\nvar loadDescriptor = (0, _caching.makeWeakCache)( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref, cache) {\n  var value, options, dirname, alias, item, api;\n  return _regeneratorRuntime.wrap(function _callee2$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          value = _ref.value, options = _ref.options, dirname = _ref.dirname, alias = _ref.alias;\n\n          if (!(options === false)) {\n            _context5.next = 3;\n            break;\n          }\n\n          throw new Error(\"Assertion failure\");\n\n        case 3:\n          options = options || {};\n          item = value;\n\n          if (!(typeof value === \"function\")) {\n            _context5.next = 15;\n            break;\n          }\n\n          api = Object.assign({}, context, (0, _configApi.default)(cache));\n          _context5.prev = 7;\n          item = value(api, options, dirname);\n          _context5.next = 15;\n          break;\n\n        case 11:\n          _context5.prev = 11;\n          _context5.t0 = _context5[\"catch\"](7);\n\n          if (alias) {\n            _context5.t0.message += \" (While processing: \".concat(JSON.stringify(alias), \")\");\n          }\n\n          throw _context5.t0;\n\n        case 15:\n          if (!(!item || typeof item !== \"object\")) {\n            _context5.next = 17;\n            break;\n          }\n\n          throw new Error(\"Plugin/Preset did not return an object.\");\n\n        case 17:\n          if (!(typeof item.then === \"function\")) {\n            _context5.next = 20;\n            break;\n          }\n\n          return _context5.delegateYield([], \"t1\", 19);\n\n        case 19:\n          throw new Error(\"You appear to be using an async plugin, \" + \"which your current version of Babel does not support. \" + \"If you're using a published plugin, \" + \"you may need to upgrade your @babel/core version.\");\n\n        case 20:\n          return _context5.abrupt(\"return\", {\n            value: item,\n            options: options,\n            dirname: dirname,\n            alias: alias\n          });\n\n        case 21:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _callee2, null, [[7, 11]]);\n}));\n\nfunction loadPluginDescriptor(descriptor, context) {\n  return _regeneratorRuntime.wrap(function loadPluginDescriptor$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          if (!(descriptor.value instanceof _plugin.default)) {\n            _context6.next = 4;\n            break;\n          }\n\n          if (!descriptor.options) {\n            _context6.next = 3;\n            break;\n          }\n\n          throw new Error(\"Passed options to an existing Plugin instance will not work.\");\n\n        case 3:\n          return _context6.abrupt(\"return\", descriptor.value);\n\n        case 4:\n          _context6.t0 = instantiatePlugin;\n          return _context6.delegateYield(loadDescriptor(descriptor, context), \"t1\", 6);\n\n        case 6:\n          _context6.t2 = _context6.t1;\n          _context6.t3 = context;\n          return _context6.delegateYield((0, _context6.t0)(_context6.t2, _context6.t3), \"t4\", 9);\n\n        case 9:\n          return _context6.abrupt(\"return\", _context6.t4);\n\n        case 10:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked);\n}\n\nvar instantiatePlugin = (0, _caching.makeWeakCache)( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref2, cache) {\n  var value, options, dirname, alias, pluginObj, plugin, inheritsDescriptor, inherits;\n  return _regeneratorRuntime.wrap(function _callee3$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          value = _ref2.value, options = _ref2.options, dirname = _ref2.dirname, alias = _ref2.alias;\n          pluginObj = (0, _plugins.validatePluginObject)(value);\n          plugin = Object.assign({}, pluginObj);\n\n          if (plugin.visitor) {\n            plugin.visitor = _traverse().default.explode(Object.assign({}, plugin.visitor));\n          }\n\n          if (!plugin.inherits) {\n            _context7.next = 12;\n            break;\n          }\n\n          inheritsDescriptor = {\n            name: undefined,\n            alias: \"\".concat(alias, \"$inherits\"),\n            value: plugin.inherits,\n            options: options,\n            dirname: dirname\n          };\n          return _context7.delegateYield((0, _async.forwardAsync)(loadPluginDescriptor, function (run) {\n            return cache.invalidate(function (data) {\n              return run(inheritsDescriptor, data);\n            });\n          }), \"t0\", 7);\n\n        case 7:\n          inherits = _context7.t0;\n          plugin.pre = chain(inherits.pre, plugin.pre);\n          plugin.post = chain(inherits.post, plugin.post);\n          plugin.manipulateOptions = chain(inherits.manipulateOptions, plugin.manipulateOptions);\n          plugin.visitor = _traverse().default.visitors.merge([inherits.visitor || {}, plugin.visitor || {}]);\n\n        case 12:\n          return _context7.abrupt(\"return\", new _plugin.default(plugin, options, alias));\n\n        case 13:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _callee3);\n}));\n\nvar validateIfOptionNeedsFilename = function validateIfOptionNeedsFilename(options, descriptor) {\n  if (options.test || options.include || options.exclude) {\n    var formattedPresetName = descriptor.name ? \"\\\"\".concat(descriptor.name, \"\\\"\") : \"/* your preset */\";\n    throw new Error([\"Preset \".concat(formattedPresetName, \" requires a filename to be set when babel is called directly,\"), \"```\", \"babel.transform(code, { filename: 'file.ts', presets: [\".concat(formattedPresetName, \"] });\"), \"```\", \"See https://babeljs.io/docs/en/options#filename for more information.\"].join(\"\\n\"));\n  }\n};\n\nvar validatePreset = function validatePreset(preset, context, descriptor) {\n  if (!context.filename) {\n    var options = preset.options;\n    validateIfOptionNeedsFilename(options, descriptor);\n\n    if (options.overrides) {\n      options.overrides.forEach(function (overrideOptions) {\n        return validateIfOptionNeedsFilename(overrideOptions, descriptor);\n      });\n    }\n  }\n};\n\nfunction loadPresetDescriptor(descriptor, context) {\n  var preset;\n  return _regeneratorRuntime.wrap(function loadPresetDescriptor$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.t0 = instantiatePreset;\n          return _context8.delegateYield(loadDescriptor(descriptor, context), \"t1\", 2);\n\n        case 2:\n          _context8.t2 = _context8.t1;\n          preset = (0, _context8.t0)(_context8.t2);\n          validatePreset(preset, context, descriptor);\n          return _context8.delegateYield((0, _configChain.buildPresetChain)(preset, context), \"t3\", 6);\n\n        case 6:\n          return _context8.abrupt(\"return\", _context8.t3);\n\n        case 7:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked2);\n}\n\nvar instantiatePreset = (0, _caching.makeWeakCacheSync)(function (_ref3) {\n  var value = _ref3.value,\n      dirname = _ref3.dirname,\n      alias = _ref3.alias;\n  return {\n    options: (0, _options.validate)(\"preset\", value),\n    alias: alias,\n    dirname: dirname\n  };\n});\n\nfunction chain(a, b) {\n  var fns = [a, b].filter(Boolean);\n  if (fns.length <= 1) return fns[0];\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _iterator3 = _createForOfIteratorHelper(fns),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var fn = _step3.value;\n        fn.apply(this, args);\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/lenovo/letterBox/node_modules/@babel/core/lib/config/full.js"],"names":["loadPluginDescriptor","loadPresetDescriptor","Object","defineProperty","exports","value","default","_gensync","data","_interopRequireDefault","require","_async","_util","context","_interopRequireWildcard","_plugin","_item","_configChain","_traverse","_caching","_options","_plugins","_configApi","_partial","_getRequireWildcardCache","WeakMap","cache","obj","__esModule","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_default","loadFullConfig","inputOpts","result","options","fileHandling","optionDefaults","plugins","presets","Error","toDescriptor","item","getItemDescriptor","presetsDescriptors","map","initialPluginsDescriptors","pluginDescriptorsByPass","passes","enhanceError","recursePresetDescriptors","rawPresets","pluginDescriptorsPass","i","length","descriptor","ownPass","preset","pass","push","unshift","code","checkNoUnwrappedItemOptionPairs","splice","o","filter","p","ignored","forEach","opts","mergeOptions","loadPluginDescriptors","descs","slice","passPerPreset","fn","arg1","arg2","test","message","filename","loadDescriptor","makeWeakCache","dirname","alias","api","assign","JSON","stringify","then","instantiatePlugin","pluginObj","validatePluginObject","plugin","visitor","explode","inherits","inheritsDescriptor","name","undefined","forwardAsync","run","invalidate","pre","chain","post","manipulateOptions","visitors","merge","validateIfOptionNeedsFilename","include","exclude","formattedPresetName","join","validatePreset","overrides","overrideOptions","instantiatePreset","buildPresetChain","makeWeakCacheSync","validate","a","b","fns","Boolean","args","apply"],"mappings":"AAAA;;;;;;;;oDA6OUA,oB;qDAiEAC,oB;;AA5SVC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkB,KAAK,CAAvB;;AAEA,SAASC,QAAT,GAAoB;AAClB,MAAMC,IAAI,GAAGC,sBAAsB,CAACC,OAAO,CAAC,SAAD,CAAR,CAAnC;;AAEAH,EAAAA,QAAQ,GAAG,oBAAY;AACrB,WAAOC,IAAP;AACD,GAFD;;AAIA,SAAOA,IAAP;AACD;;AAED,IAAIG,MAAM,GAAGD,OAAO,CAAC,wBAAD,CAApB;;AAEA,IAAIE,KAAK,GAAGF,OAAO,CAAC,QAAD,CAAnB;;AAEA,IAAIG,OAAO,GAAGC,uBAAuB,CAACJ,OAAO,CAAC,UAAD,CAAR,CAArC;;AAEA,IAAIK,OAAO,GAAGN,sBAAsB,CAACC,OAAO,CAAC,UAAD,CAAR,CAApC;;AAEA,IAAIM,KAAK,GAAGN,OAAO,CAAC,QAAD,CAAnB;;AAEA,IAAIO,YAAY,GAAGP,OAAO,CAAC,gBAAD,CAA1B;;AAEA,SAASQ,SAAT,GAAqB;AACnB,MAAMV,IAAI,GAAGC,sBAAsB,CAACC,OAAO,CAAC,iBAAD,CAAR,CAAnC;;AAEAQ,EAAAA,SAAS,GAAG,qBAAY;AACtB,WAAOV,IAAP;AACD,GAFD;;AAIA,SAAOA,IAAP;AACD;;AAED,IAAIW,QAAQ,GAAGT,OAAO,CAAC,WAAD,CAAtB;;AAEA,IAAIU,QAAQ,GAAGV,OAAO,CAAC,sBAAD,CAAtB;;AAEA,IAAIW,QAAQ,GAAGX,OAAO,CAAC,sBAAD,CAAtB;;AAEA,IAAIY,UAAU,GAAGb,sBAAsB,CAACC,OAAO,CAAC,sBAAD,CAAR,CAAvC;;AAEA,IAAIa,QAAQ,GAAGd,sBAAsB,CAACC,OAAO,CAAC,WAAD,CAAR,CAArC;;AAEA,SAASc,wBAAT,GAAoC;AAAE,MAAI,OAAOC,OAAP,KAAmB,UAAvB,EAAmC,OAAO,IAAP;AAAa,MAAIC,KAAK,GAAG,IAAID,OAAJ,EAAZ;;AAA2BD,EAAAA,wBAAwB,GAAG,oCAAY;AAAE,WAAOE,KAAP;AAAe,GAAxD;;AAA0D,SAAOA,KAAP;AAAe;;AAE1L,SAASZ,uBAAT,CAAiCa,GAAjC,EAAsC;AAAE,MAAIA,GAAG,IAAIA,GAAG,CAACC,UAAf,EAA2B;AAAE,WAAOD,GAAP;AAAa;;AAAC,MAAIA,GAAG,KAAK,IAAR,IAAgB,OAAOA,GAAP,KAAe,QAAf,IAA2B,OAAOA,GAAP,KAAe,UAA9D,EAA0E;AAAE,WAAO;AAAErB,MAAAA,OAAO,EAAEqB;AAAX,KAAP;AAA0B;;AAAC,MAAID,KAAK,GAAGF,wBAAwB,EAApC;;AAAwC,MAAIE,KAAK,IAAIA,KAAK,CAACG,GAAN,CAAUF,GAAV,CAAb,EAA6B;AAAE,WAAOD,KAAK,CAACI,GAAN,CAAUH,GAAV,CAAP;AAAwB;;AAAC,MAAII,MAAM,GAAG,EAAb;AAAiB,MAAIC,qBAAqB,GAAG9B,MAAM,CAACC,cAAP,IAAyBD,MAAM,CAAC+B,wBAA5D;;AAAsF,OAAK,IAAIC,GAAT,IAAgBP,GAAhB,EAAqB;AAAE,QAAIzB,MAAM,CAACiC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCV,GAArC,EAA0CO,GAA1C,CAAJ,EAAoD;AAAE,UAAII,IAAI,GAAGN,qBAAqB,GAAG9B,MAAM,CAAC+B,wBAAP,CAAgCN,GAAhC,EAAqCO,GAArC,CAAH,GAA+C,IAA/E;;AAAqF,UAAII,IAAI,KAAKA,IAAI,CAACR,GAAL,IAAYQ,IAAI,CAACC,GAAtB,CAAR,EAAoC;AAAErC,QAAAA,MAAM,CAACC,cAAP,CAAsB4B,MAAtB,EAA8BG,GAA9B,EAAmCI,IAAnC;AAA2C,OAAjF,MAAuF;AAAEP,QAAAA,MAAM,CAACG,GAAD,CAAN,GAAcP,GAAG,CAACO,GAAD,CAAjB;AAAyB;AAAE;AAAE;;AAACH,EAAAA,MAAM,CAACzB,OAAP,GAAiBqB,GAAjB;;AAAsB,MAAID,KAAJ,EAAW;AAAEA,IAAAA,KAAK,CAACa,GAAN,CAAUZ,GAAV,EAAeI,MAAf;AAAyB;;AAAC,SAAOA,MAAP;AAAgB;;AAEvuB,SAAStB,sBAAT,CAAgCkB,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAErB,IAAAA,OAAO,EAAEqB;AAAX,GAArC;AAAwD;;AAE/F,IAAIa,QAAQ,GAAG,CAAC,GAAGjC,QAAQ,GAAGD,OAAf,yCAAwB,SAAUmC,cAAV,CAAyBC,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AACtB,yCAAO,CAAC,GAAGnB,QAAQ,CAACjB,OAAb,EAAsBoC,SAAtB,CAAP;;AADsB;AAC/BC,UAAAA,MAD+B;;AAAA,cAGhCA,MAHgC;AAAA;AAAA;AAAA;;AAAA,4CAI5B,IAJ4B;;AAAA;AAQnCC,UAAAA,OARmC,GAWjCD,MAXiC,CAQnCC,OARmC,EASnC/B,OATmC,GAWjC8B,MAXiC,CASnC9B,OATmC,EAUnCgC,YAVmC,GAWjCF,MAXiC,CAUnCE,YAVmC;;AAAA,gBAajCA,YAAY,KAAK,SAbgB;AAAA;AAAA;AAAA;;AAAA,4CAc5B,IAd4B;;AAAA;AAiB/BC,UAAAA,cAjB+B,GAiBd,EAjBc;AAmBnCC,UAAAA,OAnBmC,GAqBjCH,OArBiC,CAmBnCG,OAnBmC,EAoBnCC,OApBmC,GAqBjCJ,OArBiC,CAoBnCI,OApBmC;;AAAA,gBAuBjC,CAACD,OAAD,IAAY,CAACC,OAvBoB;AAAA;AAAA;AAAA;;AAAA,gBAwB7B,IAAIC,KAAJ,CAAU,+CAAV,CAxB6B;;AAAA;AA2B/BC,UAAAA,YA3B+B,GA2BhB,SAAfA,YAAe,CAAAC,IAAI,EAAI;AAC3B,gBAAMb,IAAI,GAAG,CAAC,GAAGtB,KAAK,CAACoC,iBAAV,EAA6BD,IAA7B,CAAb;;AAEA,gBAAI,CAACb,IAAL,EAAW;AACT,oBAAM,IAAIW,KAAJ,CAAU,yCAAV,CAAN;AACD;;AAED,mBAAOX,IAAP;AACD,WAnCoC;;AAqC/Be,UAAAA,kBArC+B,GAqCVL,OAAO,CAACM,GAAR,CAAYJ,YAAZ,CArCU;AAsC/BK,UAAAA,yBAtC+B,GAsCHR,OAAO,CAACO,GAAR,CAAYJ,YAAZ,CAtCG;AAuC/BM,UAAAA,uBAvC+B,GAuCL,CAAC,EAAD,CAvCK;AAwC/BC,UAAAA,MAxC+B,GAwCtB,EAxCsB;AAyCrB,yCAAOC,YAAY,CAAC7C,OAAD,wCAAU,SAAU8C,wBAAV,CAAmCC,UAAnC,EAA+CC,qBAA/C;AAAA;;AAAA;AAAA;AAAA;AAAA;AACrCb,oBAAAA,OADqC,GAC3B,EAD2B;AAGlCc,oBAAAA,CAHkC,GAG9B,CAH8B;;AAAA;AAAA,0BAG3BA,CAAC,GAAGF,UAAU,CAACG,MAHY;AAAA;AAAA;AAAA;;AAInCC,oBAAAA,UAJmC,GAItBJ,UAAU,CAACE,CAAD,CAJY;;AAAA,0BAMrCE,UAAU,CAACpB,OAAX,KAAuB,KANc;AAAA;AAAA;AAAA;;AAAA;;AAAA,yBAQjCoB,UAAU,CAACC,OARsB;AAAA;AAAA;AAAA;;AAAA,kCASnCjB,OATmC;AAUzB,kDAAO/C,oBAAoB,CAAC+D,UAAD,EAAanD,OAAb,CAA3B;;AAVyB;AAAA;AAAA,kCAW3B,EAX2B;AAAA;AAUjCqD,sBAAAA,MAViC;AAWjCC,sBAAAA,IAXiC;AAAA;;AAAA,gCAS3BC,IAT2B;;AAAA;AAAA;;AAAA;AAAA,kCAcnCpB,OAdmC;AAezB,kDAAO/C,oBAAoB,CAAC+D,UAAD,EAAanD,OAAb,CAA3B;;AAfyB;AAAA;AAAA,kCAgB3BgD,qBAhB2B;AAAA;AAejCK,sBAAAA,MAfiC;AAgBjCC,sBAAAA,IAhBiC;AAAA;;AAAA,gCAc3BE,OAd2B;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAoBrC,wBAAI,aAAEC,IAAF,KAAW,sBAAf,EAAuC;AACrC,uBAAC,GAAGlD,QAAQ,CAACmD,+BAAb,EAA8CX,UAA9C,EAA0DE,CAA1D,EAA6D,QAA7D;AACD;;AAtBoC;;AAAA;AAGJA,oBAAAA,CAAC,EAHG;AAAA;AAAA;;AAAA;AAAA,0BA6BvCd,OAAO,CAACe,MAAR,GAAiB,CA7BsB;AAAA;AAAA;AAAA;;AA8BzCP,oBAAAA,uBAAuB,CAACgB,MAAxB,OAAAhB,uBAAuB,GAAQ,CAAR,EAAW,CAAX,4BAAiBR,OAAO,CAACM,GAAR,CAAY,UAAAmB,CAAC;AAAA,6BAAIA,CAAC,CAACN,IAAN;AAAA,qBAAb,EAAyBO,MAAzB,CAAgC,UAAAC,CAAC;AAAA,6BAAIA,CAAC,KAAKd,qBAAV;AAAA,qBAAjC,CAAjB,GAAvB;AA9ByC,2DAmCpCb,OAnCoC;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,+CAiCvCkB,MAjCuC,eAiCvCA,MAjCuC,EAkCvCC,IAlCuC,eAkCvCA,IAlCuC;;AAAA,wBAoClCD,MApCkC;AAAA;AAAA;AAAA;;AAAA,qDAoCnB,IApCmB;;AAAA;AAqCvCC,oBAAAA,IAAI,CAACC,IAAL,OAAAD,IAAI,qBAASD,MAAM,CAACnB,OAAhB,EAAJ;AACgB,kDAAOY,wBAAwB,CAACO,MAAM,CAAClB,OAAR,EAAiBmB,IAAjB,CAA/B;;AAtCuB;AAsCjCS,oBAAAA,QAtCiC;;AAAA,yBAuCnCA,QAvCmC;AAAA;AAAA;AAAA;;AAAA,qDAuCnB,IAvCmB;;AAAA;AAwCvCV,oBAAAA,MAAM,CAACtB,OAAP,CAAeiC,OAAf,CAAuB,UAAAC,IAAI,EAAI;AAC7B,uBAAC,GAAGlE,KAAK,CAACmE,YAAV,EAAwBjC,cAAxB,EAAwCgC,IAAxC;AACD,qBAFD;;AAxCuC;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAUnB,wBAAV;AAAA,WAAV,EAAZ,CA6CpBN,kBA7CoB,EA6CAG,uBAAuB,CAAC,CAAD,CA7CvB,CAAP;;AAzCqB;AAyC/BoB,UAAAA,OAzC+B;;AAAA,eAuFjCA,OAvFiC;AAAA;AAAA;AAAA;;AAAA,4CAuFjB,IAvFiB;;AAAA;AAwF/BE,UAAAA,IAxF+B,GAwFxBhC,cAxFwB;AAyFrC,WAAC,GAAGlC,KAAK,CAACmE,YAAV,EAAwBD,IAAxB,EAA8BlC,OAA9B;AACA,yCAAOc,YAAY,CAAC7C,OAAD,wCAAU,SAAUmE,qBAAV;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAC3B,6CAAAxB,uBAAuB,CAAC,CAAD,CAAvB,EAA2Ba,OAA3B,iDAAsCd,yBAAtC;;AAD2B,4DAGPC,uBAHO;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAGhByB,oBAAAA,KAHgB;AAInBd,oBAAAA,IAJmB,GAIZ,EAJY;AAKzBV,oBAAAA,MAAM,CAACW,IAAP,CAAYD,IAAZ;AAESL,oBAAAA,CAPgB,GAOZ,CAPY;;AAAA;AAAA,0BAOTA,CAAC,GAAGmB,KAAK,CAAClB,MAPD;AAAA;AAAA;AAAA;;AAQjBC,oBAAAA,UARiB,GAQJiB,KAAK,CAACnB,CAAD,CARD;;AAAA,0BAUnBE,UAAU,CAACpB,OAAX,KAAuB,KAVJ;AAAA;AAAA;AAAA;;AAAA;AAAA,mCAYnBuB,IAZmB;AAYT,mDAAOnE,oBAAoB,CAACgE,UAAD,EAAanD,OAAb,CAA3B;;AAZS;AAAA;;AAAA,iCAYduD,IAZc;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAcnB,wBAAI,aAAEE,IAAF,KAAW,+BAAf,EAAgD;AAC9C,uBAAC,GAAGlD,QAAQ,CAACmD,+BAAb,EAA8CU,KAA9C,EAAqDnB,CAArD,EAAwD,QAAxD;AACD;;AAhBkB;;AAAA;AAOSA,oBAAAA,CAAC,EAPV;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAUkB,qBAAV;AAAA,WAAV,EAAZ,EAAP;;AA1FqC;AAkHrCF,UAAAA,IAAI,CAAC/B,OAAL,GAAeU,MAAM,CAAC,CAAD,CAArB;AACAqB,UAAAA,IAAI,CAAC9B,OAAL,GAAeS,MAAM,CAACyB,KAAP,CAAa,CAAb,EAAgBR,MAAhB,CAAuB,UAAA3B,OAAO;AAAA,mBAAIA,OAAO,CAACgB,MAAR,GAAiB,CAArB;AAAA,WAA9B,EAAsDT,GAAtD,CAA0D,UAAAP,OAAO;AAAA,mBAAK;AACnFA,cAAAA,OAAO,EAAPA;AADmF,aAAL;AAAA,WAAjE,CAAf;AAGA+B,UAAAA,IAAI,CAACK,aAAL,GAAqBL,IAAI,CAAC9B,OAAL,CAAae,MAAb,GAAsB,CAA3C;AAtHqC,4CAuH9B;AACLnB,YAAAA,OAAO,EAAEkC,IADJ;AAELrB,YAAAA,MAAM,EAAEA;AAFH,WAvH8B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAUhB,cAAV;AAAA,CAAxB,EAAf;;AA6HArC,OAAO,CAACE,OAAR,GAAkBkC,QAAlB;;AAEA,SAASkB,YAAT,CAAsB7C,OAAtB,EAA+BuE,EAA/B,EAAmC;AACjC,+CAAO,iBAAWC,IAAX,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAEI,2CAAOF,EAAE,CAACC,IAAD,EAAOC,IAAP,CAAT;;AAFJ;AAAA;;AAAA;AAAA;AAAA;;AAIH,gBAAI,CAAC,aAAaC,IAAb,CAAkB,aAAEC,OAApB,CAAL,EAAmC;AACjC,2BAAEA,OAAF,qBAAuB3E,OAAO,CAAC4E,QAAR,IAAoB,SAA3C,eAAyD,aAAED,OAA3D;AACD;;AANE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAP;AAWD;;AAED,IAAME,cAAc,GAAG,CAAC,GAAGvE,QAAQ,CAACwE,aAAb,yCAA4B,wBAKhDjE,KALgD;AAAA;AAAA;AAAA;AAAA;AAAA;AACjDrB,UAAAA,KADiD,QACjDA,KADiD,EAEjDuC,OAFiD,QAEjDA,OAFiD,EAGjDgD,OAHiD,QAGjDA,OAHiD,EAIjDC,KAJiD,QAIjDA,KAJiD;;AAAA,gBAM7CjD,OAAO,KAAK,KANiC;AAAA;AAAA;AAAA;;AAAA,gBAMpB,IAAIK,KAAJ,CAAU,mBAAV,CANoB;;AAAA;AAOjDL,UAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AACIO,UAAAA,IAR6C,GAQtC9C,KARsC;;AAAA,gBAU7C,OAAOA,KAAP,KAAiB,UAV4B;AAAA;AAAA;AAAA;;AAWzCyF,UAAAA,GAXyC,GAWnC5F,MAAM,CAAC6F,MAAP,CAAc,EAAd,EAAkBlF,OAAlB,EAA2B,CAAC,GAAGS,UAAU,CAAChB,OAAf,EAAwBoB,KAAxB,CAA3B,CAXmC;AAAA;AAc7CyB,UAAAA,IAAI,GAAG9C,KAAK,CAACyF,GAAD,EAAMlD,OAAN,EAAegD,OAAf,CAAZ;AAd6C;AAAA;;AAAA;AAAA;AAAA;;AAgB7C,cAAIC,KAAJ,EAAW;AACT,yBAAEL,OAAF,kCAAoCQ,IAAI,CAACC,SAAL,CAAeJ,KAAf,CAApC;AACD;;AAlB4C;;AAAA;AAAA,gBAwB7C,CAAC1C,IAAD,IAAS,OAAOA,IAAP,KAAgB,QAxBoB;AAAA;AAAA;AAAA;;AAAA,gBAyBzC,IAAIF,KAAJ,CAAU,yCAAV,CAzByC;;AAAA;AAAA,gBA4B7C,OAAOE,IAAI,CAAC+C,IAAZ,KAAqB,UA5BwB;AAAA;AAAA;AAAA;;AA6B/C,yCAAO,EAAP;;AA7B+C;AAAA,gBA8BzC,IAAIjD,KAAJ,CAAU,oMAAV,CA9ByC;;AAAA;AAAA,4CAiC1C;AACL5C,YAAAA,KAAK,EAAE8C,IADF;AAELP,YAAAA,OAAO,EAAPA,OAFK;AAGLgD,YAAAA,OAAO,EAAPA,OAHK;AAILC,YAAAA,KAAK,EAALA;AAJK,WAjC0C;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA5B,EAAvB;;AAyCA,SAAU7F,oBAAV,CAA+BgE,UAA/B,EAA2CnD,OAA3C;AAAA;AAAA;AAAA;AAAA;AAAA,gBACMmD,UAAU,CAAC3D,KAAX,YAA4BU,OAAO,CAACT,OAD1C;AAAA;AAAA;AAAA;;AAAA,eAEQ0D,UAAU,CAACpB,OAFnB;AAAA;AAAA;AAAA;;AAAA,gBAGY,IAAIK,KAAJ,CAAU,8DAAV,CAHZ;;AAAA;AAAA,4CAMWe,UAAU,CAAC3D,KANtB;;AAAA;AAAA,yBASgB8F,iBAThB;AASkC,yCAAOT,cAAc,CAAC1B,UAAD,EAAanD,OAAb,CAArB;;AATlC;AAAA;AAAA,yBAS8EA,OAT9E;AASS;;AATT;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAYA,IAAMsF,iBAAiB,GAAG,CAAC,GAAGhF,QAAQ,CAACwE,aAAb,yCAA4B,yBAKnDjE,KALmD;AAAA;AAAA;AAAA;AAAA;AAAA;AACpDrB,UAAAA,KADoD,SACpDA,KADoD,EAEpDuC,OAFoD,SAEpDA,OAFoD,EAGpDgD,OAHoD,SAGpDA,OAHoD,EAIpDC,KAJoD,SAIpDA,KAJoD;AAM9CO,UAAAA,SAN8C,GAMlC,CAAC,GAAG/E,QAAQ,CAACgF,oBAAb,EAAmChG,KAAnC,CANkC;AAO9CiG,UAAAA,MAP8C,GAOrCpG,MAAM,CAAC6F,MAAP,CAAc,EAAd,EAAkBK,SAAlB,CAPqC;;AASpD,cAAIE,MAAM,CAACC,OAAX,EAAoB;AAClBD,YAAAA,MAAM,CAACC,OAAP,GAAiBrF,SAAS,GAAGZ,OAAZ,CAAoBkG,OAApB,CAA4BtG,MAAM,CAAC6F,MAAP,CAAc,EAAd,EAAkBO,MAAM,CAACC,OAAzB,CAA5B,CAAjB;AACD;;AAXmD,eAahDD,MAAM,CAACG,QAbyC;AAAA;AAAA;AAAA;;AAc5CC,UAAAA,kBAd4C,GAcvB;AACzBC,YAAAA,IAAI,EAAEC,SADmB;AAEzBf,YAAAA,KAAK,YAAKA,KAAL,cAFoB;AAGzBxF,YAAAA,KAAK,EAAEiG,MAAM,CAACG,QAHW;AAIzB7D,YAAAA,OAAO,EAAPA,OAJyB;AAKzBgD,YAAAA,OAAO,EAAPA;AALyB,WAduB;AAqBjC,yCAAO,CAAC,GAAGjF,MAAM,CAACkG,YAAX,EAAyB7G,oBAAzB,EAA+C,UAAA8G,GAAG,EAAI;AAC5E,mBAAOpF,KAAK,CAACqF,UAAN,CAAiB,UAAAvG,IAAI;AAAA,qBAAIsG,GAAG,CAACJ,kBAAD,EAAqBlG,IAArB,CAAP;AAAA,aAArB,CAAP;AACD,WAFuB,CAAP;;AArBiC;AAqB5CiG,UAAAA,QArB4C;AAwBlDH,UAAAA,MAAM,CAACU,GAAP,GAAaC,KAAK,CAACR,QAAQ,CAACO,GAAV,EAAeV,MAAM,CAACU,GAAtB,CAAlB;AACAV,UAAAA,MAAM,CAACY,IAAP,GAAcD,KAAK,CAACR,QAAQ,CAACS,IAAV,EAAgBZ,MAAM,CAACY,IAAvB,CAAnB;AACAZ,UAAAA,MAAM,CAACa,iBAAP,GAA2BF,KAAK,CAACR,QAAQ,CAACU,iBAAV,EAA6Bb,MAAM,CAACa,iBAApC,CAAhC;AACAb,UAAAA,MAAM,CAACC,OAAP,GAAiBrF,SAAS,GAAGZ,OAAZ,CAAoB8G,QAApB,CAA6BC,KAA7B,CAAmC,CAACZ,QAAQ,CAACF,OAAT,IAAoB,EAArB,EAAyBD,MAAM,CAACC,OAAP,IAAkB,EAA3C,CAAnC,CAAjB;;AA3BkD;AAAA,4CA8B7C,IAAIxF,OAAO,CAACT,OAAZ,CAAoBgG,MAApB,EAA4B1D,OAA5B,EAAqCiD,KAArC,CA9B6C;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA5B,EAA1B;;AAiCA,IAAMyB,6BAA6B,GAAG,SAAhCA,6BAAgC,CAAC1E,OAAD,EAAUoB,UAAV,EAAyB;AAC7D,MAAIpB,OAAO,CAAC2C,IAAR,IAAgB3C,OAAO,CAAC2E,OAAxB,IAAmC3E,OAAO,CAAC4E,OAA/C,EAAwD;AACtD,QAAMC,mBAAmB,GAAGzD,UAAU,CAAC2C,IAAX,eAAsB3C,UAAU,CAAC2C,IAAjC,UAA2C,mBAAvE;AACA,UAAM,IAAI1D,KAAJ,CAAU,kBAAWwE,mBAAX,4IAAmKA,mBAAnK,4FAAkRC,IAAlR,CAAuR,IAAvR,CAAV,CAAN;AACD;AACF,CALD;;AAOA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACzD,MAAD,EAASrD,OAAT,EAAkBmD,UAAlB,EAAiC;AACtD,MAAI,CAACnD,OAAO,CAAC4E,QAAb,EAAuB;AACrB,QACE7C,OADF,GAEIsB,MAFJ,CACEtB,OADF;AAGA0E,IAAAA,6BAA6B,CAAC1E,OAAD,EAAUoB,UAAV,CAA7B;;AAEA,QAAIpB,OAAO,CAACgF,SAAZ,EAAuB;AACrBhF,MAAAA,OAAO,CAACgF,SAAR,CAAkB/C,OAAlB,CAA0B,UAAAgD,eAAe;AAAA,eAAIP,6BAA6B,CAACO,eAAD,EAAkB7D,UAAlB,CAAjC;AAAA,OAAzC;AACD;AACF;AACF,CAXD;;AAaA,SAAU/D,oBAAV,CAA+B+D,UAA/B,EAA2CnD,OAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACiBiH,iBADjB;AACmC,yCAAOpC,cAAc,CAAC1B,UAAD,EAAanD,OAAb,CAArB;;AADnC;AAAA;AACQqD,UAAAA,MADR;AAEEyD,UAAAA,cAAc,CAACzD,MAAD,EAASrD,OAAT,EAAkBmD,UAAlB,CAAd;AACO,yCAAO,CAAC,GAAG/C,YAAY,CAAC8G,gBAAjB,EAAmC7D,MAAnC,EAA2CrD,OAA3C,CAAP;;AAHT;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAMA,IAAMiH,iBAAiB,GAAG,CAAC,GAAG3G,QAAQ,CAAC6G,iBAAb,EAAgC,iBAIpD;AAAA,MAHJ3H,KAGI,SAHJA,KAGI;AAAA,MAFJuF,OAEI,SAFJA,OAEI;AAAA,MADJC,KACI,SADJA,KACI;AACJ,SAAO;AACLjD,IAAAA,OAAO,EAAE,CAAC,GAAGxB,QAAQ,CAAC6G,QAAb,EAAuB,QAAvB,EAAiC5H,KAAjC,CADJ;AAELwF,IAAAA,KAAK,EAALA,KAFK;AAGLD,IAAAA,OAAO,EAAPA;AAHK,GAAP;AAKD,CAVyB,CAA1B;;AAYA,SAASqB,KAAT,CAAeiB,CAAf,EAAkBC,CAAlB,EAAqB;AACnB,MAAMC,GAAG,GAAG,CAACF,CAAD,EAAIC,CAAJ,EAAOzD,MAAP,CAAc2D,OAAd,CAAZ;AACA,MAAID,GAAG,CAACrE,MAAJ,IAAc,CAAlB,EAAqB,OAAOqE,GAAG,CAAC,CAAD,CAAV;AACrB,SAAO,YAAmB;AAAA,sCAANE,IAAM;AAANA,MAAAA,IAAM;AAAA;;AAAA,gDACPF,GADO;AAAA;;AAAA;AACxB,6DAAsB;AAAA,YAAXhD,EAAW;AACpBA,QAAAA,EAAE,CAACmD,KAAH,CAAS,IAAT,EAAeD,IAAf;AACD;AAHuB;AAAA;AAAA;AAAA;AAAA;AAIzB,GAJD;AAKD","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _gensync() {\n  const data = _interopRequireDefault(require(\"gensync\"));\n\n  _gensync = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _async = require(\"../gensync-utils/async\");\n\nvar _util = require(\"./util\");\n\nvar context = _interopRequireWildcard(require(\"../index\"));\n\nvar _plugin = _interopRequireDefault(require(\"./plugin\"));\n\nvar _item = require(\"./item\");\n\nvar _configChain = require(\"./config-chain\");\n\nfunction _traverse() {\n  const data = _interopRequireDefault(require(\"@babel/traverse\"));\n\n  _traverse = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _caching = require(\"./caching\");\n\nvar _options = require(\"./validation/options\");\n\nvar _plugins = require(\"./validation/plugins\");\n\nvar _configApi = _interopRequireDefault(require(\"./helpers/config-api\"));\n\nvar _partial = _interopRequireDefault(require(\"./partial\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = (0, _gensync().default)(function* loadFullConfig(inputOpts) {\n  const result = yield* (0, _partial.default)(inputOpts);\n\n  if (!result) {\n    return null;\n  }\n\n  const {\n    options,\n    context,\n    fileHandling\n  } = result;\n\n  if (fileHandling === \"ignored\") {\n    return null;\n  }\n\n  const optionDefaults = {};\n  const {\n    plugins,\n    presets\n  } = options;\n\n  if (!plugins || !presets) {\n    throw new Error(\"Assertion failure - plugins and presets exist\");\n  }\n\n  const toDescriptor = item => {\n    const desc = (0, _item.getItemDescriptor)(item);\n\n    if (!desc) {\n      throw new Error(\"Assertion failure - must be config item\");\n    }\n\n    return desc;\n  };\n\n  const presetsDescriptors = presets.map(toDescriptor);\n  const initialPluginsDescriptors = plugins.map(toDescriptor);\n  const pluginDescriptorsByPass = [[]];\n  const passes = [];\n  const ignored = yield* enhanceError(context, function* recursePresetDescriptors(rawPresets, pluginDescriptorsPass) {\n    const presets = [];\n\n    for (let i = 0; i < rawPresets.length; i++) {\n      const descriptor = rawPresets[i];\n\n      if (descriptor.options !== false) {\n        try {\n          if (descriptor.ownPass) {\n            presets.push({\n              preset: yield* loadPresetDescriptor(descriptor, context),\n              pass: []\n            });\n          } else {\n            presets.unshift({\n              preset: yield* loadPresetDescriptor(descriptor, context),\n              pass: pluginDescriptorsPass\n            });\n          }\n        } catch (e) {\n          if (e.code === \"BABEL_UNKNOWN_OPTION\") {\n            (0, _options.checkNoUnwrappedItemOptionPairs)(rawPresets, i, \"preset\", e);\n          }\n\n          throw e;\n        }\n      }\n    }\n\n    if (presets.length > 0) {\n      pluginDescriptorsByPass.splice(1, 0, ...presets.map(o => o.pass).filter(p => p !== pluginDescriptorsPass));\n\n      for (const {\n        preset,\n        pass\n      } of presets) {\n        if (!preset) return true;\n        pass.push(...preset.plugins);\n        const ignored = yield* recursePresetDescriptors(preset.presets, pass);\n        if (ignored) return true;\n        preset.options.forEach(opts => {\n          (0, _util.mergeOptions)(optionDefaults, opts);\n        });\n      }\n    }\n  })(presetsDescriptors, pluginDescriptorsByPass[0]);\n  if (ignored) return null;\n  const opts = optionDefaults;\n  (0, _util.mergeOptions)(opts, options);\n  yield* enhanceError(context, function* loadPluginDescriptors() {\n    pluginDescriptorsByPass[0].unshift(...initialPluginsDescriptors);\n\n    for (const descs of pluginDescriptorsByPass) {\n      const pass = [];\n      passes.push(pass);\n\n      for (let i = 0; i < descs.length; i++) {\n        const descriptor = descs[i];\n\n        if (descriptor.options !== false) {\n          try {\n            pass.push(yield* loadPluginDescriptor(descriptor, context));\n          } catch (e) {\n            if (e.code === \"BABEL_UNKNOWN_PLUGIN_PROPERTY\") {\n              (0, _options.checkNoUnwrappedItemOptionPairs)(descs, i, \"plugin\", e);\n            }\n\n            throw e;\n          }\n        }\n      }\n    }\n  })();\n  opts.plugins = passes[0];\n  opts.presets = passes.slice(1).filter(plugins => plugins.length > 0).map(plugins => ({\n    plugins\n  }));\n  opts.passPerPreset = opts.presets.length > 0;\n  return {\n    options: opts,\n    passes: passes\n  };\n});\n\nexports.default = _default;\n\nfunction enhanceError(context, fn) {\n  return function* (arg1, arg2) {\n    try {\n      return yield* fn(arg1, arg2);\n    } catch (e) {\n      if (!/^\\[BABEL\\]/.test(e.message)) {\n        e.message = `[BABEL] ${context.filename || \"unknown\"}: ${e.message}`;\n      }\n\n      throw e;\n    }\n  };\n}\n\nconst loadDescriptor = (0, _caching.makeWeakCache)(function* ({\n  value,\n  options,\n  dirname,\n  alias\n}, cache) {\n  if (options === false) throw new Error(\"Assertion failure\");\n  options = options || {};\n  let item = value;\n\n  if (typeof value === \"function\") {\n    const api = Object.assign({}, context, (0, _configApi.default)(cache));\n\n    try {\n      item = value(api, options, dirname);\n    } catch (e) {\n      if (alias) {\n        e.message += ` (While processing: ${JSON.stringify(alias)})`;\n      }\n\n      throw e;\n    }\n  }\n\n  if (!item || typeof item !== \"object\") {\n    throw new Error(\"Plugin/Preset did not return an object.\");\n  }\n\n  if (typeof item.then === \"function\") {\n    yield* [];\n    throw new Error(`You appear to be using an async plugin, ` + `which your current version of Babel does not support. ` + `If you're using a published plugin, ` + `you may need to upgrade your @babel/core version.`);\n  }\n\n  return {\n    value: item,\n    options,\n    dirname,\n    alias\n  };\n});\n\nfunction* loadPluginDescriptor(descriptor, context) {\n  if (descriptor.value instanceof _plugin.default) {\n    if (descriptor.options) {\n      throw new Error(\"Passed options to an existing Plugin instance will not work.\");\n    }\n\n    return descriptor.value;\n  }\n\n  return yield* instantiatePlugin(yield* loadDescriptor(descriptor, context), context);\n}\n\nconst instantiatePlugin = (0, _caching.makeWeakCache)(function* ({\n  value,\n  options,\n  dirname,\n  alias\n}, cache) {\n  const pluginObj = (0, _plugins.validatePluginObject)(value);\n  const plugin = Object.assign({}, pluginObj);\n\n  if (plugin.visitor) {\n    plugin.visitor = _traverse().default.explode(Object.assign({}, plugin.visitor));\n  }\n\n  if (plugin.inherits) {\n    const inheritsDescriptor = {\n      name: undefined,\n      alias: `${alias}$inherits`,\n      value: plugin.inherits,\n      options,\n      dirname\n    };\n    const inherits = yield* (0, _async.forwardAsync)(loadPluginDescriptor, run => {\n      return cache.invalidate(data => run(inheritsDescriptor, data));\n    });\n    plugin.pre = chain(inherits.pre, plugin.pre);\n    plugin.post = chain(inherits.post, plugin.post);\n    plugin.manipulateOptions = chain(inherits.manipulateOptions, plugin.manipulateOptions);\n    plugin.visitor = _traverse().default.visitors.merge([inherits.visitor || {}, plugin.visitor || {}]);\n  }\n\n  return new _plugin.default(plugin, options, alias);\n});\n\nconst validateIfOptionNeedsFilename = (options, descriptor) => {\n  if (options.test || options.include || options.exclude) {\n    const formattedPresetName = descriptor.name ? `\"${descriptor.name}\"` : \"/* your preset */\";\n    throw new Error([`Preset ${formattedPresetName} requires a filename to be set when babel is called directly,`, `\\`\\`\\``, `babel.transform(code, { filename: 'file.ts', presets: [${formattedPresetName}] });`, `\\`\\`\\``, `See https://babeljs.io/docs/en/options#filename for more information.`].join(\"\\n\"));\n  }\n};\n\nconst validatePreset = (preset, context, descriptor) => {\n  if (!context.filename) {\n    const {\n      options\n    } = preset;\n    validateIfOptionNeedsFilename(options, descriptor);\n\n    if (options.overrides) {\n      options.overrides.forEach(overrideOptions => validateIfOptionNeedsFilename(overrideOptions, descriptor));\n    }\n  }\n};\n\nfunction* loadPresetDescriptor(descriptor, context) {\n  const preset = instantiatePreset(yield* loadDescriptor(descriptor, context));\n  validatePreset(preset, context, descriptor);\n  return yield* (0, _configChain.buildPresetChain)(preset, context);\n}\n\nconst instantiatePreset = (0, _caching.makeWeakCacheSync)(({\n  value,\n  dirname,\n  alias\n}) => {\n  return {\n    options: (0, _options.validate)(\"preset\", value),\n    alias,\n    dirname\n  };\n});\n\nfunction chain(a, b) {\n  const fns = [a, b].filter(Boolean);\n  if (fns.length <= 1) return fns[0];\n  return function (...args) {\n    for (const fn of fns) {\n      fn.apply(this, args);\n    }\n  };\n}"]},"metadata":{},"sourceType":"script"}